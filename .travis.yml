language: ruby
bundler_args: --without kitchen_vagrant --without development
rvm:
- 2.1.0
cache: bundler
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do.pem
- echo `md5sum ~/.ssh/id_do.pem`
- ls -la ~/.ssh
script:
- bundle exec kitchen diagnose --all
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML='.kitchen.cloud.yml'
  - DIGITAL_OCEAN_SSH_KEY_PATH='~/.ssh/id_do.pem'
  - secure: HuM5+c1+hLAnHsg69xizTonIw6E0QY3JUBY8sFyH5BV9iq3xoGs8OE9EqxsE3s912d+C2jH5DQWYG8uXhN+YLy4mYyh4mk+nTHnRRdD3gqp2MKh2XacKT0hT9ZDR5S7PXqVu6g/CStVUFRFdpuY2S5A8BfyG9aeIYoBwXK7jYrY=
  - secure: Y76Lvjf4AvbfkHSxhG+kzP8Luk/2OQPNQHUo8xr+zCGnTuLvA+wR59QmeChOklB2fN35j44nfeDI74vRS5CUPcJIzS/Ld+V61tuHUNIRC3fODsoP4OzW4ikGN1n6Ur6bt07mYXVS1I2R7thX1m5gCQ1xuvhbCngWe+bIiO7PlQU=
  - secure: YUFLcHiR6Svqc9UDqTCTlsiPmSbD+yX4IXrXHzOBA2QX7gj/8fxwNdHun+qhmzR+roPdGo6KUzvzKq4hamC1GcYynfQddhnRXxFFVLscnV50vMENHV5RzarelXpQui7jy2L5XM9nuOVMVZgSmfCrFFcB+qB5Rm3/ZbXbINl9gms=
  - secure: jP8UOkVGSM4utG5dVI2cinzCxFE9/3ANbqRjty6KZgTTGChyarBx192C1lezxFbwYKymmzPjuT6VH91JJRpolxe02kmgcPDVUlPOFvtEZLTIwz3NJfUWQWhgeg3nj052JPTbh529V9OFsfMTBoTIVMC4rHQ2N1643rz2PotV60w=
  - secure: AyQKHtO/w60iY+h2HJQz8yA4wuf6/mcsCmtV1r1sLRt5JjoBdZOMsheJyCrSwJdERlrwgTkPNHaz8/TMwjWqculkXRENqZ7kTaFHKGAoTRb9PyOH5bvyvBlXuozLK8NXubwtRLAyKg2pVp1flrVQ30HP8hEsLDuHWTU3RTjpPw4=
  - secure: I+5S3CjfB1GAqE0YUdBwY0MehWnh8G/3rtVyUxqU9+tPov/pN41FwpAtFFGcrrFBhl6a9Z9ZBZxY1Kg49XDgRKgxwjPxyLmcBZcwJGEufZ+joQoRCeLeblepLR42x3osEp/XThOOIFB2m7mhG4ocN5exKDyRbX2xvhGNcg8DG0c=
  - secure: B6heRK9m2D/xmWlDMoHuYae4zVMWBUUxBBXSaaRFBgmUKkV5I0UfKegs+URqesfaY8i3/VH1aDADet/MDEMVgabUxE33wRfYKaoURvJmHruQxFgcYENmiA2uUKVpS7jcvtxlmBaS8nDyRIYhysr653UDN7DKWTMc1khXVpBPFFA=
  - secure: W1Vup7ulRKYzOy9YZ1MKLcqLpogVSt3hcHnZn4xpiX176kq9H0xMenJECcij143lBBwRmmj8oU1N4F5J0NkR39IYNVH8Ztjjq9Ed+csBcUKOPxWx1BMcdhXCC6TfGrDXq8O3nK1q2m+FpPCFsysU53fnS8Z5B8E8t0vlk/qgwz0=
  - secure: gO1UoX6wdLso5aMiKChA6vc2GG699XE22hnX04f8sT9HgIhaHUxwONMvxeN0TYLEO+ZQXtYjLsv8s64Qk9eBG2Ur4hU8URFShXG0mncOwiJEo8bj5Q7CKopOV6sIHb4KAQSD92IFPXYiqqaY+DLTtHmDMN9Qd0xf+GY+c5/0WWw=
  - secure: WmrA+/oBpUg+QmPIkJ9svpeh+lrPVaoyVXmVxVD9lvl/bWRnEnj9BH1QUTYEzui9Z6jayARH4/NuI1SrHxWBQdOrsRsruGKXm6Ca7HCmHAHZA26KCT+sF811r48XKBPwunyTbbkq1uKeaB9dEZUb18QZzaDoisXzSJ6tHsPVZGA=
  - secure: NCwUDgxYc4tVd8iOFb6KwncCChKv+B62kiXuWCbgpAT0VAztq3yiwdJQMKNai6XXQAi2YO4ApP8YzFM5WwxAmkwyWFBoIj2LgoN9CKogejnkrOWrnW9zpDnW4GuSCVT+9XZBgAe73Sqv9YCOIAyxeu04cJ/ZJwpzBfYi0OALJh8=
  - secure: O3U5Ok5CKGQzRQIbRN3JQFdyKQ1YeTvm5zb7kP49ru9oTUXjrktXBTW9klFSCMCB2tQSPAvUgaaCaOrsDWY5k79Qr9Nj+/ykbdK0AaJAwAObt1kGaKcMbf4LMM9FKl3ndJdm7L7GyJvNhw1xh/llRp05xdDyajgEJAxiPzQGvDg=
  - secure: dLNBC2l6TaNR+TkP1bXVreouyK3boSoJWgAgVpK4GlABTXW21sbjddWArli+izTu3GmG1jnFHa0V30yZNhsMgxszJ3NYVwfxDP1+NOdWYG5cTA+rOnWrBCU2cEeb2dRlyp3GRuzNimjSC3BzMtszolSD1pRD3EK3j7cm1KrmMhA=
  - secure: D6vgRSUKrwd+hSkbgea1jCg6izeeCi26lmZjJThF8zSqUDqYeZHFz45tlxZ9I/xTli7yHNcSF0dPJdw4IaG4eo9PBKv1YegLhOr61U/851o1Bq7OpfGgwO+23p+rlm29KY+gVN/cQS82XVYVME2o7knFi34Gzw8HrfaUDX+8LGU=
  - secure: D+YfNSnSfZuF3eeEbKozlAU99HP3pIrQV3V+7DZxKAKrXjV8JgMLRij+lHw+O6tNC5w4RBTcERsxM9fhJPdpfOHNrHQAhAEvFCWtSzZqyLpxxI3oY4DKtSIGH4i5kPXzDmLWezZRNCpjfYqrKSNWa/sfLINELnuLuC3jjUhqsLA=
  - secure: NBEzPR4VzIh9nJxPd4RMTmyByDTPrbqh0Fqg3H92Dc+DktXHcMXKzKwO4JOPFV+6Nb7b2g9q+fFe6gIj1Pqp1j8bsLARLtJyvsxvPdec+H/aPj3XPKsHkRsgwo8xp31sooNp7j+yREr9mypW6NTSyUC2cQYnYFDfuODPplHyaTM=
  - secure: Vi/CdirlzEJERmdIZSjZJnjXVT62VeQeWkg5WIGYbreigHCo8z5a4akvz2BZT88h6h9rzEhn1Lz82LXRIC+yHDszkSwdxivrMllgCbSdcu4oQSxFutou1RXNkm0n5Ni3o9oy93njtCz8cDMOFBpDjv/JMLptCv9Looz2OH86VHE=
  - secure: WsQdEMxtNXlPPqmAmuUrdPypIE22PidFBG42/5Tc3Kl0JskYFo01ULGCsNKUEuAVxlUZB0O+tAZTEroMt9khb0QOqUl/nmNyevF9Bq8TbpuN9srYqQ7QVOuj3bY82NfijkG+qbo1w/voBsZ8zA84unN/MJ3lRo+JHu7fRHmbj5w=
  - secure: eldqRazN+miZVtTOrV+F2XmodIrvnd6+6GqVjB1uS9mxXX2a35BCsmLOTtSlEcKaJRUfN6/lioWoxz9vx1o+RxovQsIGn4HsIzphH0gBCBzN75lCd36o34sZPz/XP04cvcvOi9Ejl4UqLylxSNc52QRHpN4Nw6ZIZyCU2+KK/DY=
  - secure: jZG3EF1EkRJAhtxW5YzqUa1y1925gDjPfJ2N4HRVf+YcgdvnNFsQA014wfSmevoOK86AFR+K08xKLjVdIrQd/ZNTb2clFMHmFHf9U7313NABeU9QtBm3Jv704E3cPnSs7bk1ZzekSLTiOTH/JTkCy0mReljxWXHW8kfN+bx3Kao=
  - secure: OiqY7L9QrltMqvmyViuch5kFQ5IS4kmMBqbH15OiPsICeR1NMpjkVRK8AC8G+rTtKMD2V8++zNBC3xr++AHUd/La8D7alxkhyOL8wXeBSgBYhLrY5QErA/OzLcYnSnBta68HIWphfjgCQaSJUGQAtQxuaOkWeVjgs0XRpoQAJ00=
  - secure: VcP2UvSuoKIgxxjXqaxMu7xNO25LDfgp8bEvayHpstk+7vzW7oMFwsFkagiT3+JNHIxrrysn6zaJnkqsqrP8CQHcU0qbUGc+Gl4Il/plsaCVJVsigwmuEYEE/N1a+RP7o8Z4pr/Z7GkxZMQRNd4f3SRlhmYwUg9x+fo/WKTkUI0=
  - secure: N4OiygUmAwWclL2xlt4XP8riovc2BBGRKasXzFkupeDlfvjkLzMbEwq1INU9p/YrwU6X/nh7faiJM9s6zMrteh7nAR8imwXRDROpRGqh6Pf9HKh0l7cYdp3hWGRtdN6StZG3Y0ye7gZxMNWjrFg8pnBWSxsxcfJUgQxhOf3nZNA=
  - secure: ZdAVD+mufNvJpCmTjdKCeHVmD/EGPHPgas0GMIAkmygvYBUJCALVuJKWl5ZS4qiSodEkmVP5/RMoLylmRAXsTjcnRzEbzUWCCJ39nNjkovOrCR4ZJeut7rQIfRkSB/cIsfW4iebZtXaZnPs9jzlQH4pwNQMyRspI4lUuTnAqEBQ=
  - secure: Il/m4ox792uZoBSSpcOIKZfymL5+1l9JhOg41tRpGAK96wNtKU4GN199gvu2KBNyBTx/7WybQoefWnv9fyVTkz67GXBQrEMw752XnBFp2acyaJ4aVpXbjB8wPt+pU9qggrvRXSCHam2RkGchZNhdkFCvIUDbDvrwIvaUgf4vegk=
  - secure: N2NMVM5ZgsBFWOH1yYQZlar4toI3CP1ONbWvSMHLEyslvqiJXxIp8wT4Mx6Sw+qsIWjpRUgTwksEVyzG42rlnhkDK2aavwf7HtTPYVseLg5Fkl5DcrGyTMgCw5mvcdxmZRha6a4cPLeGG0rOyKcuASkZQrS7oDYfBNz67Fq3/go=
  - secure: Jy5GL9G9UtIpCVzbDD8P2Y1o/Bkqmorsjak+kQqSOPbHeeBn/ESxqupE/6vVcxX2ASO8/xuwxMxmzKQxhBEqVOPjT579as9wydeH8LNbslNd0D9B9zhK4rVeZE0d+RYmIMR0lLHWFgtNjiQU2BhGAI1DFhdNZoz2kI2iW/MrmQA=
  - secure: jvySeNwV+jWnArVeB8Wbjn8LVz9+iqUwExz2qetujIUmkHHNvGZfdq8Q4UaGWMI8BqVzM8DcyEr+gYOJHzlBG4TeGFv3asSQJ5//7nDRDIvllacULOk8p3KgmrKVoBAQO29t8Rksrx8pzfA3RVE08qoi4g+RBAZlep2hcnOTQHc=
  - secure: jDzWdZ/gI0UZqX4R7zCrqSG6tyqzn2zfI8pXJwOryC0dn6FFh0CEiQYQwpOl/2fOk33/KRNVsQdgl9d9R04HM6x9UovAB6azaPOVf5uPX6iGXBdlUSYIEIKetXpgOQt9x0VxB80CuQ0Hpz1f41vkmYQ5JUGS1j/KQdj5SiWaHNE=
  - secure: RsQ0/7p/7IJKk6OnwhGr7c4UZdtZGUBzpDmMqsFWIq8DGIuKngKTh77OxeUSoZLFCOaeZL2dPTHqTJODgGi/LiXrXkyNTtz/ekfDJJsajF5k/INzR6AzFrUFyabmDquKiOmKBnuz+Li9MWb6pYMq/LRSyf/ydT0pLparPGhfNo8=
  - secure: NwFvLNAsXD83wWv/1FouN9q3Ok7k86yJr3dgZYFTGnKvIuRCkzIjucnGAK8ywZ5Og2XGiNB5DeU0gPBiOLnOMH+DJ9RwDWqgF2s459A2Ae2DuFkTYL5lYgE4Do+lx/UGywzg0IQ0ednoR30AZ0opIcUTnbBSje8YcaJwbKX9SbI=
  - secure: NxCWLoji8QAGb0yiGCojmcPDQbvLLoOAtMrrd8553Y9bxM74/nXpxv8irWmujjw7X1u632tDRIC6GElZeIOeDKk42NqmYrMR2V6POSSQTYqV5ZvulUWMI+CwlG9DjkKq7OriXxNIeER2KzGSHASxH44cD844Ssv8qbmnZDTR2LY=
  - secure: OK4nv156yU4LIskqLMC4aWfTQrEcn3hKiKC5NjcSoJFh5RLKAfOAT3hguLNIjD6MjWuZleTNn5OFedjt2/k8epxzGcfmmim4fswgBlVCENEj5VcqnMf96ncweR9wyvny4SM15dgdUisgWEMAuTn1M+NumeTlNgGV2/BhLPbYTfM=
  matrix:
  - KITCHEN_INSTANCE='default-centos-64'
  - KITCHEN_INSTANCE='default-ubuntu-1310'
