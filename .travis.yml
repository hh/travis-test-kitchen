language: ruby
bundler_args: --without kitchen_vagrant --without development
rvm:
- 2.1.0
cache: bundler
before_install:
- echo -n $DO_KEY_CHUNK_{0..999} | tr -d ' ' | base64 --decode > /home/travis/.ssh/id_do.pem
- echo `md5sum ~/.ssh/id_do.pem`
- ls -la ~/.ssh
script:
- bundle exec kitchen diagnose --all
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- grep . -Hn .kitchen/logs/*
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML='.kitchen.cloud.yml'
  - DIGITAL_OCEAN_SSH_KEY_PATH='/home/travis/.ssh/id_do.pem'
  - DIGITAL_OCEAN_SSH_KEY_IDS='135373, 135365'
  - secure: R8Pgqot29GRV1BBuycbs4wWdnrZQGo3aIAGlDRLOAmIipQFAgp4/+exqHtlwOqgUMTTR0Ib3o6qrEia43Re/GcieOy1xi7x5MRhi+gMqEWRA/QNQhO5x39bNITG8/zrjTWA4QB1pgymmxDhAjGzSKYT7FuxnTpGw9KuwqM+h+AI=
  - secure: ZV8SZEN+oGizq/jvzx2OqafBpQNCZML9bSNHGjqB1r+mwlFg4vJUF0uSbdqTqTVLNib3HLeZHmISw8+DUgE+m8hz4DLJ5RbQ/VMSQ3dTp8TnG5GGmrUXX+1mk5KXeFAlc5Pa4vCvjj6lxL0HuWygco3O2T8nW4IMd87Mu8njWR8=
  - secure: kIRV8DbSyLPCR+Ek+s49GtK0lCY30qSyjGlSPzZ+2dzbrQZLxPNks/Vn9uxmpqLsNvdyZnuyGfhefsic/J1C0oiocukucNnVngRLM6uclNZmRkL6+1gasKS6YG7uXrNY1W0wu6++EXRvaZ77QnkLuKsvjjWL2bXhQ3zy/X32M9g=
  - secure: h5ZVJZGz3udg9iiS2u4pAOPinzsEsy81C0bZaXE7IKBINHo6R0NKp27ItZA6O7Ri+HRUnZQBWUGslZuraGbkRn57OvCQV/OAe8h80wneQFCyYNe6Yib+3peP4dh9QrZmSPCGFgqK2Gt+4SqKTl9Hytzmh9Wq4XP1+z7YQA1OYJE=
  - secure: XWlyiHP4zBvolh7dMkMdX/hGzDbWQRhOIKhiaBX30RkJQ9lODuwuVh722kzNpHKUEi17Yv2TTUiG7jQh3y5WgdC+gbl2ou++ZY8u74EOdYw1zksDtipaLxQn09VjTZT1vvutlsPXvToMeuhqfVtlqxoJ/SE2mpmMAHv+Ly3PBjo=
  - secure: ICEEEUp6z5F4fxgeMEtoraV5IkaQLwcG8EdmEfb8uqhmCCepyDDd8YpDfNtaYFIrkDHN0wFRnqs22X+YaFdMU+BUO9KpAsX1AMeW9gvfynD0SDrp/8nzNJfDg3s4uSCXRd9aLOW+pTs2ptfXkrXyrehAEijsFnyR/VTiFS+Asq8=
  - secure: T1jDs9k18l4xNA2dPwCloPNRro3z6FbNtSuufvOxYo17Umtlui4Q0E7q8w5AKxgFI1f6ltA8zDLCNUC4TyrpC75aQD98VecEVB8ME5+cNhHnCrmSblb1MpBg66EkPIth2sqfbREYDAITJMHklC8CQXM9lHP7Is/ZLsH1uNXw4jk=
  - secure: PGivOwcEWsVXxHPfWyACWMvpjz9+mE5gKFTl5ufs1U4agLjJNb56DHqlLPB0n0gB+pfU+piBImn3YVXESfgAyBvwb+R2oPRpUpMW66LEJwygU9OtLJIL0swjb6th1fjpKDFB3fFdBk5Ek6fY+PCR+ZzKyavpME58iXdgX+1XUUs=
  - secure: DYU4N3bVLZ6RPT1/Bst23aix3cwl6Q7KEMUFrNuqu/+NMISAup2tDGG5Qa8N6y8kvSK+MU/UvVacyDNev5LA3ioq6QlpqZlhp7y4h3JmGvH45IF9aIMtjKZmmoG0STyXG7DBmtFxU1a9Jg/5J7X7h/QovkgaBppruOj6lWPlamE=
  - secure: gErVh7DZiYOb1JVSNOAaxs7JxzstVptGtgPsCzVSmdHu45yggHU8wdlInQpxEm8bZJ8HNH7yw4uNDZn1KzipkgnnfXFkt0TroBIH0TtMEwQuOv78kD3XsTr5H7ERLvp5vAc+kj6Herg/10dVsijLe4wSwoNtErVOGg+2WBB50Io=
  - secure: FGRqUmrrEu5NZBIVEWTuq1S93kx8UiDxJJCZwtieM1OQziL+YFceOJrJbkJlhtwa1LwGT187wUL/rfmoUyjVA9OW27vVxeHI87wpU1c6XIrpb7RzQx2Oex3Q/+8VeyeTHzlMbzuopXRh8YQ1Z+aQUcWLxjg6CGbGwNlXbVRMuG8=
  - secure: Y0pnWXZjSbxheW9+rxmtYiZviPkEestakVPUWDGo2lrT88sUTskXqhCNo51P5/Xjj3Bg9zqkNKjuGrCdK2nZyybd2w6IRC1/dOJetrXwlar4WqSX5knZ6TnXzRov4WQW+3Jq1DzSmYgnl3vYa0VyzQqyBwrTCPYXyQdBPSp1nqc=
  - secure: PcXHaX5P4+trSNXzJ+fjz7cwUCm8Ia3sfUvAqnTyt8wX3cHzBfMjuNPApb/bVPTSia7J2khg/RHmKrGRbWo/NeMBvhWCkygtrwDd0cmCK96YHR3JMo+7hB0nX0XT8g5dDsmAkYyeZiOFJVS+pvyX3jnbkAEVp6HjGqWztz5yUho=
  - secure: i1h/JOcKqlANEpXLZDKg6PhiQFrUz7hdVwnH2nyDfKLLjqAv9Bbf6pPm+zhfKKt3+nVLeMRWNPsEEM3/tpkOkTLwLQ14ksKoaazFwvTUgw2DdwjWp+DGFJH3esz9f8obJARjYxVcpXn69U4sA0t4WtrEjAIiTtFaK31D18zMFbk=
  - secure: BAXaO2XnoF7lrD2RI7eDWNwch1xd4nLpNBhUPTIPxKew1pia5lCT4MMCG+O1fJVDGHfPer8YGemMh08P30OZQiIc64JdILZKEXPFbrt9knEYSniMZPJcRoa0HcwX/WpbD6cBnu5oZ3pBoy5m3O5rxuPl5yNMcH6Epcsrob4jUb4=
  - secure: fWeM9WFU8VgGoVI3OaVs3fPIOWuzBdtWS8MFFkC77iVOLtQDfVZAp1wjZWibEk7wwjZpI8dfIWDzsPsWk9rPxxNmqJbGwmhzqAXKDYD1hWYDfsRWdGhESimT6X/xYseMVN4weszsQEQiBMnGvn6bRzUthNMyqelGkGXTpji9uUE=
  - secure: Cz8vcrjzXvNbfmzYf8TyyuUmRZpNkmK/iWpq+HY9Xqo9S3YN9qbdhm7yQffVr4FuiZvJDOvIhCkO25w9byhGeIL1hMNydVYPGI0N+fss3atRjGutOc6NCimijybHfheULhMgoYr1S9Tyme4DgGIpaJFD6AxCda3vMzedSi2Adpw=
  - secure: bDsY/kRtNGPrU61js5WWMpmjqREWPoD1bgWWspgE9cSMhUeOZFAsHU+uTz1unDabuF0SghwfyYMYchlpux2JTXpPtlnY0Pvj743Z/7d3OStgoXbNsr9tAlF/sxZoOyevzNv73FCBYWH4bO/KOjp9t8H9YLaWJ1rxfn77Ba6u8Tk=
  - secure: TAHlGHhgfnX+u6agfQanLnGblaleawasRVTPHkl3/J6N2vHY1idzeuGfhZspsBqUA1BRX/hHqdTpfNz5hS+FoWWGfpDeciUNR0BMCm/LuOX6BA0F9U0ItRcffbmqY/PaGEkktX5UF+eFsC5rTE2vPigLuJ8Qfxnx+lwHlpxytuI=
  - secure: b2OR4zZSbOO6esr7cfzv5Zq7Krba1c5+T0VHyVTXjEdeBBBwKYyLqQ/utko3dM49ea5YyTA08LIuAtushm3x3GR78pG2DJnDtB8s1HIwjWvWMHUWabBQ8oor2ZvOK9V3Yp9oLvRZhQn8arGQpLX+mKTYoHXl+UFeO/f9wmNexCs=
  - secure: Ra68i+gIKKUARLSvEp0ynov+vc2yEFN5WrjM6ezF3UCREN5Ipy4IMVkFGc2q8eqiPn0cT13nImzTkvOM4wFjEA7zspQnkJq9sYe28+dwJoNGmvb7GlPdrSrM8tO/uL4qfZfXEescvh2uisWzPoeX7h6wlZDerJtfdbhAdjWI2yU=
  - secure: NFVpNciZXBOhywCZNN6yC3fSucCT4nnXYlh3a0B+sAIH4Tr8pqDpdiBJ5iBQRbVI/j2NWvFGPfBMdXXSs5AsIW14z1vgjk3D1kytYHws+YBrnGm7A/na/Rrf0W2F0b6bxphrx2jHALAIYQHkaBfcDf9b4qKBVnkhdAg8biXjSs4=
  - secure: gxHhb8GRzpmeNbAYUpdYBTWC1BhDm0yKH7bPoCvBfdiQPKd5Zevz4+G3EikQKg5ysyEeUMTSYenmToTxWVdKz97pKZN1LzXnjk+x9cpKDTdLudf2geKISuNpAa6/1D7M6/WsSHxW1CtttVD7asGCY8vyKsWQM+DGriwmZSIEqsg=
  - secure: TfhPovGpACtZl3uWsT8yHtarlCjast3PuFC5krlBAOYw6cLLkxWkAE9KwkthKjhoc2tufqggkoZkxe5hM3pntw9Lv0BDgfY93uUhvOdj0bAh0Qr0LHy86z+1aXdKD3GREsYZeL60kU01MR08z4xZFFSy/cqO7hB0DneUdg/1pLM=
  - secure: dyAvfvxUBmKl+FYHnp3WrnVdNGBvveX8mjM//xX6vmzPgwJKw1uo/cKaC8f9XNfzBof6XUA/k5DXt7x5fuhsv2cnWmClLN4pn5CQyEN2BDep7dygcrRFThbnV/P7FCaabnWjrVAGtynufSxKDUfU4CAs6Z7PWT665hLt7fYCH20=
  - secure: UiOkpbsmtu/VuqQPkd+flPI6KBoi7KhMSgR9vsUbTYn/frmjmgfS8E4GbmSWRyaBsp2pXUHR99XlxpGnWwuaz4GnK8wy8cqrVZa6dAPlEWuAkeG8sT5C3ZgPbJ+9QrGVD5N9tc6hQL7ClzCXT6WQeiVTvnz/cBBWtGGmmknYvsQ=
  - secure: d6pVm8cmIUG5Tf8DEGAY1pikWDxGxcyDiDkLc3NK809Vy/VW2zpYVRd62dgD4I+GJNY1nHCLv1+KH9GKPDU/0ZGm3mQEDWGH7sV4Q6xTLxlUdem6fFxoexANiVuf1/pKcs7w3dJ4MMa2RiGKKYPWZO6/SaU8jnKq9i0LSKsdk3g=
  - secure: e3pbwc22Kn6lsvaXgeukzBprFAK3ZcKyY6mgG4e3s8fdNPVOkHhksoUAy9k3eDUZNeMXGQRhS5ZG8OG5dFIZB1VXFgDIYtdOCr3hFn2P2kCKve+ozPJj5yS7p+OUG0VW5HQWMwCU7PPsqkSiTZwhpRF2d3bnbC2dv1DMp03C+PQ=
  - secure: HALpFhN78HQn5hP6ImcUl0EMg6+bdlIkuMSHrRHgthAQNIzn+qUQSF2ltDaFbMrKVSZscz3y7xE8GDVR1YrThtvxl7Z1LtotroBUDQhDJEd3Fu0pvqn54VIxCgaq75dOweTH0OrQEh37K8xtCVESWveeKQ4TnITd5Lh7MO4EnMI=
  - secure: JY1tvyCFGkcIIXDdEt4VYbslYDBE9og0orVhMn8/ukhmSIX5dM+aRExpKVrUb/6NenvtNJ5a4rG+DAVwPIlGdlTPs60LabJTl6XMTpSf8SlwMbUAFEj21rO9dBr6Eg/Ec0sRU0uRSfY83vH2SNeY58DezMJ0YYA8Qp9AvB74CHE=
  - secure: PpB+v21uXSc80vz5Qmb6gQ8jqerhYS9+02P5XGAqpfryhu62beny/30UWq21MKbxuZEMI7ctfMNonozKp+iOaSHj3MXGXJ3FTNe2BfTwXi6vpsXQX/a+tZP5fhEikFQhJnkGoJLdLCNk/BgcVs96Ote/2r1YBHlsH9eXoHHNazo=
  - secure: jd7cTcdgdYxVg47VsbLNKvZyBrkNRpHjAc0SXSZUwsE+uUXaQ76qcy8xXsnukpuaInb2BIhpnxMOjJHwM1d80IQ3PzU+Wt5rAe5SMyvqZABBwABi8xTaZKsxfupiQzXvuc7deiIa9ISkZC4sN54HH6q54rCgsrz/+Ld0kTx2HUE=
  - secure: g5Iamkvy/dVLLLgfeQEQU7ZisdgivDtsu8d+UVEJoueMVgUn2Q4/KUV7JQ8EzrbYQ5+HCyzzn0Oge38+KTFKHEPrxWJsnG+RhJ1XUBccmcsnvyyemS+q2Yr5S378IqWDa5h9BrENgIWr8NXO3qEWv92DrN28KVKdkzRi/pJtYZQ=
  - secure: fWr+3nz7W2iliW7mtfy9eYzZsh8zeZiJMvObdkKvm6NdvIw1VBYhUqJ9GvIkMco++DJkBC7/QFwDMvAeSiB0aULna0J7PsNjBCUvQyNvj/PYO2s7NFyR0qO6OWytAlf7dvvHTRcq1bq5z8qZC3Yd5XyWLmh5WoWa0D13DWjH8Oc=
  - secure: cE1533q+m9I3+zKeD9mFf7ggmFy717BKTfNO81EyzA0xfgiH5NNbOkzy+0Xow3PUcBFf2u0qadyehBZpeTAhG0SXGgeKBM44LkcG5gnI2dpkN5ZZSi9Lo30HviGdEJbOCLecUgCAFRGxh5vQ563ew4i+KU4UFh8LymfljzfB+k8=
  - secure: d2jiPqeVquJMz3tPTbvp2yZLrxFFqgxVeG0wdc8a9aFXc9hN3BNjYD+49XPbWrUsHYyH1ch4kGTx5AkhG6QyzjWKNQPkcUppUGlENZHePCQfUK6tyR4fLoulyKzGEDWnDQpyo9qD5a6Mw/oRQ+oWsz8wb/nEmk4R9Fpu6oxhXGQ=
  - secure: ahRtJoH6gsXE/qMnRaebprBLS59+sImJ6/t6NqnJKqp2rl80BtuKnT47p1hRpScJbb44zU/N2EcIs9s4aL4GZEWTB814W7U0N++BjCXf6GaVgHG+DBI6q4cs0l/8g03rNxukzbfEHYYPGnpLCYEFYpkabmk/lh0VDfqC4hdxN+4=
  - secure: WvnvCgFo6i1eZZagWAz7PQqu8ChAjHh0Y6LlXvhu2VKIVrJS8yugEXEMyExqJIIsT4LgKM1RENtq4mMum8pr7RiqVGin9RiMxYllHO+nGOp8x2xyudhkz/EWdLgFz9FTA0juD7/VOWUAaFzaPHtvXJl6S8eZxoLzzwnOQJzMtO4=
  - secure: acPFny1avrP+GdRLP8u0BaviEzO/kVBqzvTEycxacRheWv8Bk//sRC8TpXoR3xliQZ2W1+mNNU/RrmRVdtey9UG/v2CUASxFbJ94kPDN/3dlYyts0+endf2cVRvBro+4IRxKINlyIwuvyJ4xO7Lb5cHiby4GRXE7kpt2sFdzkrU=
  - secure: TYn8J5IcfJWLJXXzbqwdAvzJ0dcADA69Gx3btV0EWOqkLnnF+52/ivf5gl/r/Z+jFW/7YXTMZXNiOSYP/RJoNWQseOwi3vjnpZauqejC4NeuP6+HVeV6CwZ70ZHNvgSqxanPq5Zcb71lBsooQhYPEwX7gpU9bvh++m7SgyRDr+M=
  matrix:
  - KITCHEN_INSTANCE='default-centos-64'
